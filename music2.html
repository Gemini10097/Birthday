<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ç”Ÿæ—¥å¿«ä¹ï¼</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <script>
    tailwind.config = {
        theme: {
            extend: {
                colors: {
                    primary: '#FF6B8B',
                    secondary: '#FFD700',
                    accent: '#9370DB',
                },
                fontFamily: {
                    birthday: ['"Comic Sans MS"', '"Marker Felt"', 'cursive'],
                },
            }
        }
    }
  </script>
  <style type="text/tailwindcss">
    @layer utilities {
        .text-shadow {
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        .text-shadow-glow {
            text-shadow: 0 0 10px #fff, 0 0 20px #fff, 0 0 30px #FFD700, 0 0 40px #FFD700, 0 0 50px #FFD700;
        }
        .float {
            animation: float 3s ease-in-out infinite;
        }
        .spin-slow {
            animation: spin 15s linear infinite;
        }
        .pulse-slow {
            animation: pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        .music-toast {
            animation: slideUp 0.5s ease-out forwards, fadeOut 0.5s ease-in 3s forwards;
        }
        .quantum-particle {
            position: absolute;
            border-radius: 50%;
            opacity: 0.7;
            pointer-events: none;
        }
        .countdown-enter {
            animation: countdownEnter 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
        }
        .countdown-exit {
            animation: countdownExit 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
        }
        /* æ»¡å±çƒŸèŠ±å®¹å™¨æ ·å¼ */
        .fullscreen-fireworks {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
        }
        /* 16:9è§†é¢‘å®¹å™¨ */
        .aspect-16x9 {
            aspect-ratio: 16 / 9;
        }
    }

    @keyframes float {
        0% { transform: translateY(0px); }
        50% { transform: translateY(-15px); }
        100% { transform: translateY(0px); }
    }

    @keyframes spin {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }

    @keyframes slideUp {
        from { transform: translateY(20px); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
    }

    @keyframes fadeOut {
        from { opacity: 1; }
        to { opacity: 0; visibility: hidden; }
    }

    @keyframes countdownEnter {
        0% { transform: scale(0); opacity: 0; text-shadow: 0 0 0 transparent; }
        70% { transform: scale(1.1); opacity: 1; }
        100% { transform: scale(1); opacity: 1; text-shadow: 0 0 20px currentColor, 0 0 40px currentColor; }
    }

    @keyframes countdownExit {
        0% { transform: scale(1); opacity: 1; text-shadow: 0 0 20px currentColor, 0 0 40px currentColor; }
        100% { transform: scale(1.5); opacity: 0; text-shadow: 0 0 0 transparent; }
    }

    /* é‡å­æ¸²æŸ“æ•ˆæœ */
    @keyframes quantumFade {
        0%, 100% { opacity: 0.3; transform: scale(0.8); }
        50% { opacity: 0.8; transform: scale(1.2); }
    }

    @keyframes quantumMove {
        0% { transform: translate(0, 0) rotate(0deg); }
        25% { transform: translate(10px, -10px) rotate(90deg); }
        50% { transform: translate(20px, 5px) rotate(180deg); }
        75% { transform: translate(5px, 15px) rotate(270deg); }
        100% { transform: translate(0, 0) rotate(360deg); }
    }

    /* ç¿»ä¹¦åŠ¨ç”»æ ·å¼ */
    .book {
      position: relative;
      width: 100%;
      min-height: 100vh;
      perspective: 1500px;
      padding-top: 20px;
    }

    .page {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      min-height: 100vh;
      transform-origin: left center;
      transform-style: preserve-3d;
      transition: transform 0.8s cubic-bezier(0.6, 0.01, 0.4, 1);
      padding: 20px;
      background-color: white;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
      will-change: transform, box-shadow;
      overflow: hidden;
    }

    /* é¡µè§’å¼¯æ›²æ•ˆæœ */
    .page::before {
      content: "";
      position: absolute;
      right: 0;
      bottom: 0;
      width: 30%;
      height: 30%;
      background: linear-gradient(135deg, transparent 50%, rgba(0,0,0,0.03) 50%);
      transform-origin: right bottom;
      transition: transform 0.8s cubic-bezier(0.6, 0.01, 0.4, 1);
      pointer-events: none;
      z-index: 1;
    }

    .page.active {
      z-index: 10;
      transform: rotateY(0deg);
    }

    .page.active::before {
      transform: rotateY(0deg) scale(1);
    }

    .page.flipping {
      z-index: 15;
      transform: rotateY(-180deg);
    }

    .page.flipping::before {
      transform: rotateY(180deg) scale(0.8);
    }

    .page.next {
      z-index: 5;
      transform: rotateY(0deg);
    }

    .page.prev {
      z-index: 5;
      transform: rotateY(-180deg);
      box-shadow: inset 0 0 50px rgba(0,0,0,0.1), -2px 0 10px rgba(0,0,0,0.05);
    }

    .pagination {
      position: fixed;
      bottom: 40px;
      left: 0;
      width: 100%;
      display: flex;
      justify-content: space-between;
      padding: 0 20px;
      z-index: 20;
    }

    .page-btn {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: white;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      color: #FF6B8B;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .page-btn:hover {
      transform: scale(1.1);
      background: #FF6B8B;
      color: white;
    }

    .page-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    /* èƒŒé¢æ ·å¼ - å¢å¼º3Dæ•ˆæœ */
    .page .back {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: #f5f5f5;
      transform: rotateY(180deg);
      backface-visibility: hidden;
      padding: 20px;
    }

    /* å€’è®¡æ—¶è¦†ç›–å±‚ */
    #countdown-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: #0a0a16;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        z-index: 100;
        transition: opacity 1s ease-out;
        overflow: hidden;
    }

    #countdown-number {
        font-size: clamp(8rem, 25vw, 18rem);
        font-weight: bold;
        color: #FFD700;
        opacity: 0;
    }

    #countdown-text {
        margin-top: 2rem;
        font-size: clamp(1.2rem, 3vw, 2rem);
        color: #f1f1f1;
        opacity: 0;
        transition: opacity 0.5s ease;
    }

    /* å½“å‰æ’­æ”¾æ­Œæ›²æŒ‡ç¤ºå™¨ */
    .music-indicator {
        position: fixed;
        bottom: 24px;
        right: 48px;
        background: white;
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 12px;
        color: #FF6B8B;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        z-index: 15;
    }
  </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-pink-100 via-purple-100 to-blue-100 overflow-x-hidden">
<!-- å€’è®¡æ—¶è¦†ç›–å±‚ -->
<div id="countdown-overlay">
  <div id="countdown-number"></div>
  <div id="countdown-text">å‡†å¤‡å¥½æ¥æ”¶ç¥ç¦äº†å—ï¼Ÿ</div>
  <!-- é‡å­ç²’å­å®¹å™¨ -->
  <div id="quantum-container"></div>
</div>

<!-- èƒŒæ™¯è£…é¥° -->
<div class="fixed inset-0 overflow-hidden pointer-events-none z-0">
  <div class="absolute top-10 left-10 w-20 h-20 bg-secondary/30 rounded-full blur-xl float"></div>
  <div class="absolute top-40 right-20 w-32 h-32 bg-primary/20 rounded-full blur-xl" style="animation: float 4s ease-in-out infinite"></div>
  <div class="absolute bottom-20 left-1/3 w-24 h-24 bg-accent/20 rounded-full blur-xl" style="animation: float 5s ease-in-out infinite"></div>
</div>

<!-- éŸ³ä¹æ’­æ”¾å¼•å¯¼æç¤º -->
<div id="music-guide" class="music-toast fixed top-6 left-1/2 transform -translate-x-1/2 bg-primary/90 text-white px-6 py-3 rounded-full shadow-lg z-50 flex items-center gap-2">
  <i class="fa fa-music"></i>
  <span>ç‚¹å‡»é¡µé¢ä»»æ„ä½ç½®å¼€å¯éŸ³ä¹</span>
</div>

<!-- å½“å‰æ’­æ”¾æ­Œæ›²æŒ‡ç¤ºå™¨ -->
<div class="music-indicator" id="music-indicator">
  æ­£åœ¨æ’­æ”¾: ç”Ÿæ—¥å¿«ä¹æ­Œ
</div>

<!-- ä¸»å®¹å™¨ï¼ˆç¿»ä¹¦å®¹å™¨ï¼‰ -->
<div class="book z-10 opacity-0 transition-opacity 1s ease">
  <!-- ç¬¬ä¸€é¡µï¼šæ»¡å±çƒŸèŠ±æ•ˆæœ -->
  <div class="page active">
    <div class="back"></div> <!-- èƒŒé¢ -->

    <!-- ç²‰è‰²åˆ°ç´«è‰²æ¸å˜èƒŒæ™¯ -->
    <div class="absolute inset-0 bg-gradient-to-br from-pink-300 via-purple-200 to-purple-400 animate-gradient-flow z-[-1]"></div>

    <!-- æŸ”å…‰æ•ˆæœå åŠ  -->
    <div class="absolute inset-0 bg-[radial-gradient(circle_at_top,rgba(255,255,255,0.4),transparent_70%)] z-[-1]"></div>

    <!-- æ»¡å±çƒŸèŠ±å®¹å™¨ -->
    <div id="first-page-fireworks" class="fullscreen-fireworks"></div>

    <div class="text-center my-10 relative z-10">
      <img src="https://s1.aigei.com/src/img/gif/00/00e08c36d96b4ace9c961487dd4689b6.gif?imageMogr2/auto-orient/thumbnail/!282x282r/gravity/Center/crop/282x282/quality/85/%7CimageView2/2/w/282&e=2051020800&token=P7S2Xpzfz11vAkASLTkfHN7Fw-oOZBecqeJaxypL:-QXwl7QyyyTw9_HrcX8sYxNrFxs= " alt="ç”Ÿæ—¥è›‹ç³•çš„å›¾ç‰‡" class="mx-auto max-w-full h-auto" width="500" height="200">
    </div>
    <div class="container mx-auto px-4 py-8 relative z-10">
      <div class="text-center my-10">
        <img src="https://wimg.588ku.com/gif/20/12/21/861c97babe0d4e6ca15fa4ac49c2dae7.gif" alt="ç”Ÿæ—¥å¿«ä¹çš„å›¾ç‰‡" class="mx-auto max-w-full h-auto">
      </div>
    </div>
    <div class="text-center my-16">
      <p class="text-gray-600 mb-6">å–œæ¬¢è¿™ä¸ªç¥ç¦å—ï¼Ÿ</p>
      <div class="flex justify-center gap-6">
        <button id="like-btn" class="text-4xl text-gray-400 hover:text-red-500 transition-colors duration-300 transform hover:scale-125">
          <i class="fa fa-heart-o"></i>
        </button>
        <button id="share-btn" class="text-4xl text-gray-400 hover:text-blue-500 transition-colors duration-300 transform hover:scale-125">
          <i class="fa fa-share-alt"></i>
        </button>
      </div>
    </div>

  </div>

  <style>
    /* æ¸å˜æµåŠ¨åŠ¨ç”» */
    @keyframes gradientFlow {
      0% {
        background-position: 0% 50%;
      }
      50% {
        background-position: 100% 50%;
      }
      100% {
        background-position: 0% 50%;
      }
    }

    .animate-gradient-flow {
      background-size: 200% 200%;
      animation: gradientFlow 18s ease infinite;
    }
  </style>

  <div class="page next relative overflow-hidden">
    <div class="back"></div> <!-- èƒŒé¢ -->

    <!-- ç”Ÿæ—¥ä¸»é¢˜èƒŒæ™¯å›¾ï¼ˆæŒ‰æ¯”ä¾‹å……æ»¡å±å¹•ï¼‰ -->
    <div class="absolute inset-0 z-0">
      <!-- èƒŒæ™¯å›¾å®¹å™¨ï¼šç¡®ä¿å›¾ç‰‡æŒ‰æ¯”ä¾‹å……æ»¡å±å¹• -->
      <div class="absolute inset-0 flex items-center justify-center">
        <img
                src="https://b0.bdstatic.com/ugc/9Z0yYA0kA8CvlTnKzwUHQg515d30ee2fd8053ef9b4e8ff83fc4c0b.jpg?x-bce-process=image/auto-orient,o_1/watermark,image_NDU0ZjAyZDU5YjQ1LnBuZw==,bucket_searchbox,w_32,text_QFN0ZWxsb3Jh,type_RlpMYW5UaW5nSGVp,size_32,x_22,y_22,interval_4,color_FFFFFF,effect_softoutline,shc_000000,blr_2,align_1"
                alt="ç”Ÿæ—¥ä¸»é¢˜ç…§ç‰‡"
                class="min-w-full min-h-full object-cover <!-- æ ¸å¿ƒï¼šæŒ‰æ¯”ä¾‹å……æ»¡å±å¹•ï¼Œå¯èƒ½è£å‰ªè¾¹ç¼˜ -->
                     transition-all duration-7000 ease-in-out
                     hover:scale-105 hover:blur-0 hover:brightness-100
                     blur-sm brightness-110"
                loading="eager">
      </div>
    </div>

    <h2 class="text-center font-birthday text-[clamp(1.5rem,5vw,2.5rem)] text-primary text-shadow my-8 relative z-10">ç¾å¥½å›å¿†</h2>

    <!-- 9å¼ å›å¿†ç…§ç‰‡ï¼ˆå±…ä¸­æ˜¾ç¤ºï¼Œå‰æ™¯å±‚çº§ï¼‰ -->
    <div class="grid grid-cols-3 gap-4 max-w-4xl mx-auto relative z-10 justify-items-center content-center mb-8">
      <img src="https://img2.baidu.com/it/u=129933530,533113186&fm=253&fmt=auto&app=138&f=JPEG?w=800&h=1067" alt="å›å¿†ç…§ç‰‡1" class="rounded-xl shadow-md w-full h-40 object-cover hover:scale-105 transition-transform duration-300">
      <img src="https://wx2.sinaimg.cn/mw1024/00698S0sly1hu1ny9fnb4j31jk110dre.jpg" alt="å›å¿†ç…§ç‰‡2" class="rounded-xl shadow-md w-full h-40 object-cover hover:scale-105 transition-transform duration-300">
      <img src="https://ts4.tc.mm.bing.net/th/id/OIP-C.07P9LyH1Hv9c9wnafa5rEQHaJM?r=0&cb=thfc1&rs=1&pid=ImgDetMain&o=7&rm=3" alt="å›å¿†ç…§ç‰‡3" class="rounded-xl shadow-md w-full h-40 object-cover hover:scale-105 transition-transform duration-300">
      <img src="https://img1.baidu.com/it/u=2330405235,2981246960&fm=253&app=138&f=JPEG?w=800&h=1067" alt="å›å¿†ç…§ç‰‡4" class="rounded-xl shadow-md w-full h-40 object-cover hover:scale-105 transition-transform duration-300">
      <img src="https://ts1.tc.mm.bing.net/th/id/R-C.e89208fec66a12af6aea033d1a55722f?rik=q0QaSt5QQ%2bW7ug&riu=http%3a%2f%2fi2.hdslb.com%2fbfs%2farchive%2feef69f8ab45fab305058218930d2878a1a1a80a8.jpg&ehk=9lR0J7Y1ByKFMu8FQi4YTUe5LkI0EmnTQ41dsJoWR88%3d&risl=&pid=ImgRaw&r=0" alt="å›å¿†ç…§ç‰‡5" class="rounded-xl shadow-md w-full h-40 object-cover hover:scale-105 transition-transform duration-300">
      <img src="https://wx4.sinaimg.cn/mw690/006ZLRqcgy1hxe77u7kbdj316o1kw7gj.jpg" alt="å›å¿†ç…§ç‰‡6" class="rounded-xl shadow-md w-full h-40 object-cover hover:scale-105 transition-transform duration-300">
      <img src="https://wx3.sinaimg.cn/mw690/640c032aly1hwnpo4kd1gj2140140af0.jpg" alt="å›å¿†ç…§ç‰‡7" class="rounded-xl shadow-md w-full h-40 object-cover hover:scale-105 transition-transform duration-300">
      <img src="https://img1.baidu.com/it/u=3643289845,1370422175&fm=253&fmt=auto&app=138&f=JPEG?w=949&h=633" alt="å›å¿†ç…§ç‰‡8" class="rounded-xl shadow-md w-full h-40 object-cover hover:scale-105 transition-transform duration-300">
      <img src="https://wx4.sinaimg.cn/mw690/640c032aly1hwnpo46kenj20tw13x425.jpg" alt="å›å¿†ç…§ç‰‡9" class="rounded-xl shadow-md w-full h-40 object-cover hover:scale-105 transition-transform duration-300">
    </div>

    <p class="text-center font-birthday text-gray-600 mt-4 text-[clamp(1rem,3vw,1.2rem)] relative z-10 pb-8">æ¯ä¸€æ®µå›å¿†éƒ½æ˜¯çè´µçš„ç¤¼ç‰© âœ¨</p>
  </div>



  <!-- ç¬¬ä¸‰é¡µï¼šBç«™è§†é¢‘ç‰ˆ -->
  <div class="page next">
    <div class="back"></div> <!-- èƒŒé¢ -->
    <div class="absolute inset-0 flex items-center justify-center">
      <img
              src="https://b0.bdstatic.com/ugc/9Z0yYA0kA8CvlTnKzwUHQga5b1a3fb451649cc4fb8ffba040dad8b.jpg?x-bce-process=image/auto-orient,o_1/watermark,image_NDU0ZjAyZDU5YjQ1LnBuZw==,bucket_searchbox,w_32,text_QFN0ZWxsb3Jh,type_RlpMYW5UaW5nSGVp,size_32,x_22,y_22,interval_4,color_FFFFFF,effect_softoutline,shc_000000,blr_2,align_1"
              alt="ç”Ÿæ—¥ä¸»é¢˜ç…§ç‰‡"
              class="min-w-full min-h-full object-cover <!-- æ ¸å¿ƒï¼šæŒ‰æ¯”ä¾‹å……æ»¡å±å¹•ï¼Œå¯èƒ½è£å‰ªè¾¹ç¼˜ -->
                     transition-all duration-7000 ease-in-out
                     hover:scale-105 hover:blur-0 hover:brightness-100
                     blur-sm brightness-110"
              loading="eager">
    </div>

    <h2 class="text-center font-birthday text-[clamp(1.5rem,5vw,2.5rem)] text-accent text-shadow my-8">ç”Ÿæ—¥å¿«ä¹ï¼</h2>

    <!-- 16:9æ¯”ä¾‹çš„Bç«™è§†é¢‘å®¹å™¨ -->
    <div class="text-center my-10 max-w-4xl mx-auto">
      <div class="relative rounded-2xl shadow-lg overflow-hidden aspect-16x9 bg-gray-100">
        <!-- Bç«™è§†é¢‘åµŒå…¥å®¹å™¨ -->
        <div id="bilibili-video-container" class="w-full h-full"></div>

        <!-- è§†é¢‘åŠ è½½å‰çš„å ä½æ•ˆæœ -->
        <div class="absolute inset-0 bg-gradient-to-r from-gray-200 to-gray-100 animate-pulse" id="video-placeholder"></div>
      </div>
      <p class="text-sm text-gray-500 mt-2">ç‚¹å‡»è§†é¢‘å¼€å§‹æ’­æ”¾</p>
    </div>

    <div class="max-w-xl mx-auto bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl p-6 my-8 text-center">
      <p class="font-birthday text-[clamp(1.2rem,4vw,1.5rem)] text-gray-700">
        æ„¿è¿™ä¸€å¤©å……æ»¡æ¬¢ç¬‘å’Œçˆ±<br>æ–°çš„ä¸€å²ç»§ç»­é—ªé—ªå‘å…‰ï¼
      </p>
    </div>

    <div class="text-center mt-12">
      <i class="fa fa-star text-secondary text-2xl float"></i>
      <i class="fa fa-star text-primary text-2xl float" style="animation-delay: 0.5s"></i>
      <i class="fa fa-star text-accent text-2xl float" style="animation-delay: 1s"></i>
    </div>
  </div>

  <script>
    // Bç«™è§†é¢‘åµŒå…¥ä»£ç 
    document.addEventListener('DOMContentLoaded', () => {
        // Bç«™è§†é¢‘AVå·æˆ–BVå·ï¼ˆäºŒé€‰ä¸€ï¼‰
        const bvid = "BV1XX4y1P79e"; // BVå·ç¤ºä¾‹ï¼ˆç”Ÿæ—¥ç›¸å…³è§†é¢‘ï¼‰
        // const aid = "170001"; // AVå·ç¤ºä¾‹ï¼Œä½¿ç”¨æ—¶éœ€è¦æ³¨é‡Šæ‰ä¸Šé¢çš„BVå·

        // è§†é¢‘å®½åº¦å’Œé«˜åº¦æ¯”ä¾‹
        const width = "100%";
        const height = "100%";

        // è§†é¢‘å ä½ç¬¦
        const videoPlaceholder = document.getElementById('video-placeholder');

        // åˆ›å»ºBç«™è§†é¢‘iframe
        function createBilibiliVideo() {
            // æ„å»ºBç«™åµŒå…¥é“¾æ¥
            let embedUrl;
            if (bvid) {
                embedUrl = `//player.bilibili.com/player.html?isOutside=true&aid=114680022435313&bvid=BV1jCM1zFEvp&cid=30487875211&p=1`;
            } else if (aid) {
                embedUrl = `//player.bilibili.com/player.html?isOutside=true&aid=114680022435313&bvid=BV1jCM1zFEvp&cid=30487875211&p=1`;
            }

            // åˆ›å»ºiframeå…ƒç´ 
            const iframe = document.createElement('iframe');
            iframe.src = embedUrl;
            iframe.width = width;
            iframe.height = height;
            iframe.frameBorder = "0";
            iframe.allowFullscreen = true;
            iframe.scrolling = "no";
            iframe.title = "Bç«™ç”Ÿæ—¥è§†é¢‘";
            iframe.setAttribute('allow', 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture');

            // åŠ è½½å®Œæˆåéšè—å ä½ç¬¦
            iframe.onload = () => {
                if (videoPlaceholder) {
                    videoPlaceholder.style.display = 'none';
                }
            };

            // æ·»åŠ åˆ°å®¹å™¨
            const container = document.getElementById('bilibili-video-container');
            if (container) {
                container.appendChild(iframe);

                // æ·»åŠ ç‚¹å‡»æ’­æ”¾æ”¯æŒ
                container.addEventListener('click', () => {
                    // å°è¯•è§¦å‘æ’­æ”¾
                    try {
                        // å‘iframeå‘é€æ’­æ”¾æŒ‡ä»¤
                        iframe.contentWindow.postMessage({
                            event: 'play'
                        }, 'https://player.bilibili.com');
                    } catch (e) {
                        console.log('æ’­æ”¾è¯·æ±‚è¯·æ±‚:', e);
                    }
                });
            }
        }

        // åˆå§‹åŒ–Bç«™è§†é¢‘
        createBilibiliVideo();
    });
  </script>



  <!-- ç¬¬å››é¡µï¼šæ¸©é¦¨ç¥ç¦é¡µ -->
  <div class="page next">
    <div class="back"></div> <!-- èƒŒé¢ -->
    <div class="absolute inset-0 flex items-center justify-center">
      <img
              src="https://wx2.sinaimg.cn/mw690/0084HNCEly1i2jq1thayxj32bc1jkb2a.jpg"
              alt="ç”Ÿæ—¥ä¸»é¢˜ç…§ç‰‡"
              class="min-w-full min-h-full object-cover <!-- æ ¸å¿ƒï¼šæŒ‰æ¯”ä¾‹å……æ»¡å±å¹•ï¼Œå¯èƒ½è£å‰ªè¾¹ç¼˜ -->
                     transition-all duration-7000 ease-in-out
                     hover:scale-105 hover:blur-0 hover:brightness-100
                     blur-sm brightness-110"
              loading="eager">
    </div>
    <h2 class="text-center font-birthday text-[clamp(1.5rem,5vw,2.5rem)] text-primary text-shadow my-8">æ¸©é¦¨ç¥ç¦</h2>

    <div class="max-w-2xl mx-auto bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl p-8 transform transition-all duration-500 hover:scale-[1.02]
                absolute left-1/2 top-[66.66%] -translate-x-1/2 -translate-y-1/2">
      <div id="wish-container" class="text-center font-birthday text-[clamp(1.2rem,4vw,1.8rem)] text-gray-800 min-h-[120px]">
        ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å¼€å§‹æ¥æ”¶ç¥ç¦å§ï¼
      </div>

      <div class="flex justify-center mt-8">
        <button id="wish-btn" class="bg-primary hover:bg-primary/80 text-white font-bold py-3 px-8 rounded-full shadow-lg transform transition-all duration-300 hover:scale-105 flex items-center">
          <i class="fa fa-gift mr-2"></i> æ¥æ”¶ç¥ç¦
        </button>
      </div>
    </div>

    <!-- åº•éƒ¨ -->
    <footer class="text-center text-gray-500 text-sm mt-16">
      <p>ç¥ä½ æ‹¥æœ‰ç¾å¥½çš„ä¸€å¤©ï¼</p>
    </footer>
  </div>

  <!-- ç¿»é¡µæŒ‰é’® -->
  <div class="pagination">
    <div id="prev-btn" class="page-btn" disabled>
      <i class="fa fa-chevron-left"></i>
    </div>
    <div id="next-btn" class="page-btn">
      <i class="fa fa-chevron-right"></i>
    </div>
  </div>
</div>

<!-- éŸ³ä¹å…ƒç´  - å¤šé¦–æ­Œæ›² -->
<div id="music-container">
  <audio id="music-1" loop>
    <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3 " type="audio/mpeg">
  </audio>
  <audio id="music-2" loop>
    <source src="https://er-sycdn.kuwo.cn/e18f20618745aa539580ad7a9d2aada4/68a186d9/resource/30106/trackmedia/M800003YYetu3dMfiM.mp3" type="audio/mpeg">
  </audio>
  <audio id="music-3" loop>
    <source src="https://er-sycdn.kuwo.cn/e18f20618745aa539580ad7a9d2aada4/68a186d9/resource/30106/trackmedia/M800003YYetu3dMfiM.mp3" type="audio/mpeg">
  </audio>
  <audio id="music-4" loop>
    <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-13.mp3" type="audio/mpeg">
  </audio>
</div>

<!-- éŸ³ä¹æ§åˆ¶å™¨ -->
<div class="fixed bottom-6 right-6 z-20">
  <button id="music-toggle" class="w-14 h-14 bg-white rounded-full shadow-lg flex items-center justify-center text-primary hover:bg-primary hover:text-white transition-all duration-300">
    <i class="fa fa-music text-xl"></i>
  </button>
</div>

<!-- çƒŸèŠ±æ•ˆæœå®¹å™¨ -->
<div id="fireworks-container" class="fixed inset-0 pointer-events-none z-30"></div>

<script>
  // ç­‰å¾…DOMåŠ è½½å®Œæˆ
  document.addEventListener('DOMContentLoaded', () => {
      // å€’è®¡æ—¶å’Œé‡å­æ¸²æŸ“æ•ˆæœ
      const countdownOverlay = document.getElementById('countdown-overlay');
      const countdownNumber = document.getElementById('countdown-number');
      const countdownText = document.getElementById('countdown-text');
      const quantumContainer = document.getElementById('quantum-container');
      const book = document.querySelector('.book');
      const firstPageFireworks = document.getElementById('first-page-fireworks');

      // è§†é¢‘ç›¸å…³å…ƒç´ 
      const videoElement = document.querySelector('video');
      const videoPlaceholder = document.getElementById('video-placeholder');

      // è§†é¢‘åŠ è½½å®Œæˆåéšè—å ä½ç¬¦
      if (videoElement && videoPlaceholder) {
        videoElement.addEventListener('loadeddata', () => {
          videoPlaceholder.style.display = 'none';
        });
      }

      // åˆ›å»ºé‡å­ç²’å­
      function createQuantumParticles(count) {
          for (let i = 0; i < count; i++) {
              const particle = document.createElement('div');
              particle.classList.add('quantum-particle');

              // éšæœºå±æ€§
              const size = Math.random() * 8 + 2;
              const color = `rgba(${Math.random() * 255}, ${Math.random() * 255}, ${Math.random() * 255}, 0.7)`;
              const left = Math.random() * 100;
              const top = Math.random() * 100;
              const duration = Math.random() * 10 + 5;
              const delay = Math.random() * 5;

              particle.style.cssText = `
                  width: ${size}px;
                  height: ${size}px;
                  background: ${color};
                  left: ${left}%;
                  top: ${top}%;
                  animation: quantumFade ${duration}s ease-in-out infinite,
                             quantumMove ${duration * 2}s linear infinite;
                  animation-delay: ${delay}s;
              `;

              quantumContainer.appendChild(particle);
          }
      }

      // å¼€å§‹å€’è®¡æ—¶
      function startCountdown() {
          // æ˜¾ç¤ºé‡å­æ¸²æŸ“æ–‡æœ¬
          setTimeout(() => {
              countdownText.style.opacity = 1;
          }, 500);

          // åˆ›å»ºé‡å­ç²’å­æ•ˆæœ
          createQuantumParticles(100);

          // å€’è®¡æ—¶åºåˆ—
          const countdownSequence = [3, 2, 1,'ğŸ‰'];
          let index = 0;

          function showNextNumber() {
              if (index < countdownSequence.length) {
                  // é‡ç½®åŠ¨ç”»
                  countdownNumber.classList.remove('countdown-enter', 'countdown-exit');
                  void countdownNumber.offsetWidth; // è§¦å‘é‡ç»˜

                  // è®¾ç½®æ•°å­—å¹¶æ·»åŠ è¿›å…¥åŠ¨ç”»
                  countdownNumber.textContent = countdownSequence[index];
                  countdownNumber.classList.add('countdown-enter');

                  // æ•°å­—åœç•™æ—¶é—´ï¼ˆæœ€åä¸€ä¸ªè¡¨æƒ…åœç•™ç¨çŸ­ï¼‰
                  const delay = index === countdownSequence.length - 1 ? 800 : 1000;

                  // æ·»åŠ é€€å‡ºåŠ¨ç”»
                  setTimeout(() => {
                      countdownNumber.classList.remove('countdown-enter');
                      countdownNumber.classList.add('countdown-exit');
                      index++;
                      setTimeout(showNextNumber, 500);
                  }, delay);
              } else {
                  // å€’è®¡æ—¶ç»“æŸï¼Œéšè—è¦†ç›–å±‚
                  setTimeout(() => {
                      countdownOverlay.style.opacity = 0;
                      setTimeout(() => {
                          countdownOverlay.style.display = 'none';
                          book.style.opacity = 1;
                          // ç¬¬ä¸€é¡µæ˜¾ç¤ºæŒç»­çƒŸèŠ±æ•ˆæœ
                          startFirstPageFireworks();
                          // åˆå§‹åŒ–éŸ³ä¹
                          if (isPlaying) {
                              playPageMusic(currentPage);
                          }
                      }, 1000);
                  }, 500);
              }
          }

          // å¼€å§‹å€’è®¡æ—¶
          showNextNumber();
      }

      // ç¬¬ä¸€é¡µæ»¡å±çƒŸèŠ±æ•ˆæœ - å¢å¼ºç‰ˆ
      function startFirstPageFireworks() {
          // åˆå§‹çˆ†å‘ä¸€æ‰¹çƒŸèŠ±ï¼ˆæ›´å¤šæ•°é‡ï¼Œæ›´å¼ºè§†è§‰å†²å‡»ï¼‰
          createFireworks(30, firstPageFireworks);

          // æŒç»­å‘å°„çƒŸèŠ±ï¼Œé¢‘ç‡å’Œæ•°é‡åŠ¨æ€å˜åŒ–
          let fireworkCount = 3;
          let interval = 1000;

          const fireworkInterval = setInterval(() => {
              // åªæœ‰åœ¨ç¬¬ä¸€é¡µæ‰ç»§ç»­å‘å°„çƒŸèŠ±
              if (currentPage === 0) {
                  createFireworks(fireworkCount, firstPageFireworks);

                  // åŠ¨æ€è°ƒæ•´çƒŸèŠ±æ•°é‡å’Œé¢‘ç‡ï¼Œåˆ›é€ èŠ‚å¥å˜åŒ–
                  fireworkCount = Math.floor(Math.random() * 5) + 2;
                  interval = Math.floor(Math.random() * 800) + 800;
                  clearInterval(fireworkInterval);

                  // é‡æ–°è®¾ç½®å®šæ—¶å™¨
                  fireworkInterval = setInterval(() => {
                      if (currentPage === 0) {
                          createFireworks(fireworkCount, firstPageFireworks);
                      } else {
                          clearInterval(fireworkInterval);
                      }
                  }, interval);
              } else {
                  clearInterval(fireworkInterval);
              }
          }, interval);
      }

      // å¼€å§‹å€’è®¡æ—¶
      startCountdown();

      // ç¥ç¦è¯­æ•°ç»„
      const wishes = [
          "æ„¿ä½ æ¯å¤©éƒ½åƒä»Šå¤©ä¸€æ ·å¿«ä¹ï¼",
          "ç¥ä½ ç”Ÿæ—¥å¿«ä¹ï¼Œå¥åº·å¹¸ç¦ï¼",
          "æ–°çš„ä¸€å²ï¼Œæ„¿ä½ æ¢¦æƒ³æˆçœŸï¼",
          "æ„¿æ‰€æœ‰ç¾å¥½ä¸ä½ ä¸æœŸè€Œé‡ï¼",
          "ç”Ÿæ—¥å¿«ä¹ï¼æ„¿ä½ è¢«ä¸–ç•Œæ¸©æŸ”ä»¥å¾…ã€‚",
          "æ–°çš„ä¸€å²ï¼Œå¹³å®‰å–œä¹ï¼Œä¸‡äº‹é¡ºæ„ï¼",
          "æ„¿ä½ çš„æ¯ä¸€å¤©éƒ½å……æ»¡é˜³å…‰å’Œæ¬¢ç¬‘ï¼",
          "ç”Ÿæ—¥å¿«ä¹ï¼æ„¿ä½ å¹´å¹´æœ‰ä»Šæ—¥ï¼Œå²å²æœ‰ä»Šæœã€‚"
      ];

      // éŸ³ä¹ä¿¡æ¯ - æ¯ä¸€é¡µå¯¹åº”ä¸åŒçš„éŸ³ä¹
      const musicInfo = [
          { id: 'music-1', name: 'ç”Ÿæ—¥å¿«ä¹æ­Œ' },
          { id: 'music-2', name: 'ç¾å¥½å›å¿†æ›²' },
          { id: 'music-3', name: 'æ¬¢ä¹åº†å…¸æ›²' },
          { id: 'music-4', name: 'æ¸©é¦¨ç¥ç¦æ›²' }
      ];

      // å…ƒç´ è·å–
      const wishContainer = document.getElementById('wish-container');
      const wishBtn = document.getElementById('wish-btn');
      const likeBtn = document.getElementById('like-btn');
      const shareBtn = document.getElementById('share-btn');
      const musicToggle = document.getElementById('music-toggle');
      const fireworksContainer = document.getElementById('fireworks-container');
      const pages = document.querySelectorAll('.page');
      const prevBtn = document.getElementById('prev-btn');
      const nextBtn = document.getElementById('next-btn');
      const musicIndicator = document.getElementById('music-indicator');
      const musicGuide = document.getElementById('music-guide');

      // è·å–æ‰€æœ‰éŸ³ä¹å…ƒç´ 
      const musicElements = musicInfo.reduce((acc, item) => {
          acc[item.id] = document.getElementById(item.id);
          return acc;
      }, {});

      // ç¿»é¡µæ§åˆ¶å˜é‡
      let currentPage = 0;
      const totalPages = pages.length;
      let isPlaying = false;
      let currentMusicId = musicInfo[0].id; // é»˜è®¤ç¬¬ä¸€é¦–éŸ³ä¹

      // éŸ³ä¹æ§åˆ¶ - æ’­æ”¾æŒ‡å®šé¡µé¢çš„éŸ³ä¹
      function playPageMusic(pageIndex) {
          // åœæ­¢å½“å‰æ’­æ”¾çš„éŸ³ä¹
          if (currentMusicId) {
              musicElements[currentMusicId].pause();
          }

          // è·å–æ–°é¡µé¢çš„éŸ³ä¹ä¿¡æ¯
          const newMusic = musicInfo[pageIndex];
          currentMusicId = newMusic.id;

          // æ›´æ–°æŒ‡ç¤ºå™¨
          musicIndicator.textContent = `æ­£åœ¨æ’­æ”¾: ${newMusic.name}`;

          // æ’­æ”¾æ–°éŸ³ä¹
          if (isPlaying) {
              musicElements[currentMusicId].play()
                  .catch(err => {
                      console.log("æ’­æ”¾å¤±è´¥:", err);
                  });
          }
      }

      // éŸ³ä¹æ€»å¼€å…³
      musicToggle.addEventListener('click', () => {
          if (isPlaying) {
              // æš‚åœå½“å‰éŸ³ä¹
              musicElements[currentMusicId].pause();
              musicToggle.innerHTML = '<i class="fa fa-music text-xl"></i>';
              isPlaying = false;
          } else {
              // æ’­æ”¾å½“å‰é¡µé¢éŸ³ä¹
              musicElements[currentMusicId].play()
                  .then(() => {
                      musicToggle.innerHTML = '<i class="fa fa-pause text-xl"></i>';
                      isPlaying = true;
                      musicGuide.style.display = 'none'; // éšè—å¼•å¯¼æç¤º
                  })
                  .catch(err => {
                      console.log("æ’­æ”¾å¤±è´¥:", err);
                  });
          }
      });

      // ç›‘å¬é¡µé¢ä»»ä½•ç”¨æˆ·äº¤äº’ï¼Œè§¦å‘æ’­æ”¾
      function setupInteractionListeners() {
        const interactionHandler = () => {
          if (!isPlaying) {
              musicElements[currentMusicId].play()
                  .then(() => {
                      musicToggle.innerHTML = '<i class="fa fa-pause text-xl"></i>';
                      isPlaying = true;
                      musicGuide.style.display = 'none'; // éšè—å¼•å¯¼æç¤º
                  })
                  .catch(err => {
                      console.log("æ’­æ”¾å¤±è´¥:", err);
                  });
          }
          // åªéœ€è¦ä¸€æ¬¡äº¤äº’å³å¯ï¼Œç§»é™¤ç›‘å¬
          document.removeEventListener('click', interactionHandler);
          document.removeEventListener('touchstart', interactionHandler);
          document.removeEventListener('keydown', interactionHandler);
        };

        // ç»‘å®šå¤šç§äº¤äº’æ–¹å¼
        document.addEventListener('click', interactionHandler);
        document.addEventListener('touchstart', interactionHandler);
        document.addEventListener('keydown', interactionHandler);
      }

      // ç¡®ä¿éŸ³ä¹å¾ªç¯çš„é¢å¤–JavaScriptä¿éšœ
      Object.values(musicElements).forEach(music => {
          music.addEventListener('ended', () => {
              if (isPlaying && music.id === currentMusicId) {
                  music.play();
              }
          });
      });

      // ç¥ç¦åˆ‡æ¢
      let currentWishIndex = 0;
      wishBtn.addEventListener('click', () => {
        wishContainer.style.opacity = '0';
        wishContainer.style.transform = 'translateY(20px)';
        wishContainer.style.transition = 'opacity 0.5s, transform 0.5s';

        setTimeout(() => {
          currentWishIndex = (currentWishIndex + 1) % wishes.length;
          wishContainer.textContent = wishes[currentWishIndex];
          wishContainer.style.opacity = '1';
          wishContainer.style.transform = 'translateY(0)';
          createFireworks(3);
        }, 500);
      });

      // ç‚¹èµåŠŸèƒ½
      let liked = false;
      likeBtn.addEventListener('click', () => {
        if (liked) {
          likeBtn.innerHTML = '<i class="fa fa-heart-o"></i>';
          likeBtn.classList.remove('text-red-500');
          likeBtn.classList.add('text-white');
        } else {
          likeBtn.innerHTML = '<i class="fa fa-heart"></i>';
          likeBtn.classList.remove('text-white');
          likeBtn.classList.add('text-red-500');
          likeBtn.classList.add('animate-bounce');
          setTimeout(() => likeBtn.classList.remove('animate-bounce'), 1000);
          // ç‚¹èµæ—¶å‘å°„æ›´å¤šçƒŸèŠ±
          createFireworks(10);
        }
        liked = !liked;
      });

      // åˆ†äº«æç¤º
      shareBtn.addEventListener('click', () => {
        alert('åœ¨å¾®ä¿¡ä¸­ç‚¹å‡»å³ä¸Šè§’ï¼Œé€‰æ‹©"åˆ†äº«åˆ°æœ‹å‹åœˆ"æˆ–å‘é€ç»™å¥½å‹å§ï¼');
      });

      // çƒŸèŠ±æ•ˆæœå‡½æ•° - å¢å¼ºç‰ˆï¼Œå¯æŒ‡å®šå®¹å™¨
      function createFireworks(count, container = fireworksContainer) {
        const colors = [
          '#FF6B8B', '#FFD700', '#9370DB', '#4ECDC4', '#45B7D1',
          '#FF5722', '#00E5FF', '#76FF03', '#FF4081', '#651FFF'
        ];

        for (let i = 0; i < count; i++) {
          setTimeout(() => {
            // åˆ›å»ºçƒŸèŠ±å®¹å™¨
            const fireworkContainer = document.createElement('div');
            fireworkContainer.style.cssText = `
              position: absolute;
              pointer-events: none;
            `;

            // éšæœºä½ç½®å’Œé¢œè‰²
            const x = Math.random() * 100;
            const y = Math.random() * 60 + 20;
            const colorIndex = Math.floor(Math.random() * colors.length);
            const color = colors[colorIndex];
            const particleCount = Math.floor(Math.random() * 30) + 40; // æ›´å¤šç²’å­
            const explosionSize = Math.random() * 150 + 100; // æ›´å¤§çš„çˆ†ç‚¸èŒƒå›´

            // è®¾ç½®ä½ç½®
            fireworkContainer.style.left = `${x}%`;
            fireworkContainer.style.top = `${y}%`;

            // åˆ›å»ºå¤šä¸ªç²’å­
            for (let p = 0; p < particleCount; p++) {
              const particle = document.createElement('div');

              // è®¡ç®—ç²’å­è§’åº¦å’Œè·ç¦»
              const angle = (p / particleCount) * Math.PI * 2;
              const distance = Math.random() * explosionSize;
              const particleSize = Math.random() * 4 + 2;

              // è®¡ç®—ç»ˆç‚¹ä½ç½®
              const endX = Math.cos(angle) * distance;
              const endY = Math.sin(angle) * distance;

              // ç²’å­æ ·å¼
              particle.style.cssText = `
                position: absolute;
                width: ${particleSize}px;
                height: ${particleSize}px;
                background: ${color};
                border-radius: 50%;
                box-shadow: 0 0 6px 2px ${color}CC;
                top: 0;
                left: 0;
                opacity: 0;
                transform: translate(0, 0);
                transition: all 1s cubic-bezier(0.1, 0.8, 0.9, 1);
              `;

              fireworkContainer.appendChild(particle);

              // è§¦å‘åŠ¨ç”»
              setTimeout(() => {
                particle.style.transform = `translate(${endX}px, ${endY}px)`;
                particle.style.opacity = 1;

                // æ·¡å‡ºæ•ˆæœ
                setTimeout(() => {
                  particle.style.opacity = 0;
                }, 600);
              }, 10);
            }

            container.appendChild(fireworkContainer);

            // æ¸…ç†
            setTimeout(() => {
              fireworkContainer.remove();
            }, 2000);
          }, i * 200);
        }
      }

      // æ›´æ–°é˜´å½±æ•ˆæœ
      function updateShadow(page, rotation) {
        const shadowOpacity = Math.abs(Math.sin(rotation * Math.PI / 180)) * 0.3;
        page.style.boxShadow = `
            -5px 0 20px ${shadowOpacity} rgba(0,0,0,0.2),
            inset 0 0 30px ${shadowOpacity * 0.5} rgba(0,0,0,0.1)
        `;
      }

      // è§£ææ—‹è½¬è§’åº¦
      function parseRotation(transform) {
        const matrix = new DOMMatrix(transform);
        const angle = Math.round(Math.atan2(matrix.b, matrix.a) * (180 / Math.PI));
        return angle < 0 ? angle + 360 : angle;
      }

      // æ›´æ–°æŒ‰é’®çŠ¶æ€
      function updateButtons() {
        prevBtn.disabled = currentPage === 0;
        nextBtn.disabled = currentPage === totalPages - 1;
      }

      // ç¿»åˆ°æŒ‡å®šé¡µå¹¶åˆ‡æ¢éŸ³ä¹
      function goToPage(index) {
        pages.forEach((page, i) => {
          page.classList.remove('active', 'prev', 'next', 'flipping');

          if (i === index) {
            page.classList.add('active');
          } else if (i < index) {
            page.classList.add('prev');
          } else {
            page.classList.add('next');
          }
        });

        // åˆ‡æ¢åˆ°æ–°é¡µé¢çš„éŸ³ä¹
        playPageMusic(index);

        currentPage = index;
        updateButtons();
      }

      // ä¸‹ä¸€é¡µ
      nextBtn.addEventListener('click', () => {
        if (currentPage < totalPages - 1) {
          const current = pages[currentPage];
          current.classList.add('flipping');

          // ç›‘å¬è¿‡æ¸¡æ•ˆæœï¼Œæ›´æ–°é˜´å½±
          const handleTransition = () => {
            const transform = getComputedStyle(current).transform;
            const rotation = parseRotation(transform);
            updateShadow(current, rotation);
          };

          current.addEventListener('transition', handleTransition);

          // ç¿»é¡µå®Œæˆ
          setTimeout(() => {
            current.removeEventListener('transition', handleTransition);
            goToPage(currentPage + 1);
            createFireworks(5);
          }, 800);
        }
      });

      // ä¸Šä¸€é¡µ
      prevBtn.addEventListener('click', () => {
        if (currentPage > 0) {
          goToPage(currentPage - 1);
          createFireworks(5);

          // å¦‚æœå›åˆ°ç¬¬ä¸€é¡µï¼Œé‡æ–°å¯åŠ¨çƒŸèŠ±æ•ˆæœ
          if (currentPage === 0) {
              startFirstPageFireworks();
          }
        }
      });

      // åˆå§‹åŒ–
      updateButtons();
      setupInteractionListeners();
  });
</script>
</body>
</html>
